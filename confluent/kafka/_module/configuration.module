#!/usr/bin/env bash

  # START MODULE CONFIGURATION
DOLLAR='$'
export VCW_MODULE_PACKAGES="\
zookeeper:hkvb/confluent/zookeeper,\
kafka:hkvb/confluent/kafka,\
schema_registry:hkvb/confluent/schema_registry/traefik\
"
# END MODULE CONFIGURATION

# START CONFIGURATION
export ZOOKEEPER_MODULE_ZOOKEEPER_MEMORY_LIMIT="128m"
export ZOOKEEPER_MODULE_ZOOKEEPER_MEMORY_RESERVED="64m"
# END CONFIGURATION
# START CONFIGURATION
export KAFKA_MODULE_KAFKA_PORT="29092"
export KAFKA_MODULE_KAFKA_ADVERTISED_LISTENERS=",PLAINTEXT_HOST://${VCW_STACK_HOSTNAME}:${KAFKA_MODULE_KAFKA_PORT}"
export KAFKA_MODULE_KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=",PLAINTEXT_HOST:PLAINTEXT"
export KAFKA_MODULE_KAFKA_ENVIRONMENT_EXTRA=""
export KAFKA_MODULE_KAFKA_PORT_EXPOSURE="${KAFKA_MODULE_KAFKA_PORT}:${KAFKA_MODULE_KAFKA_PORT}"
export KAFKA_MODULE_KAFKA_MEMORY_LIMIT="512m"
export KAFKA_MODULE_KAFKA_MEMORY_RESERVED="256m"
# END CONFIGURATION
# START CONFIGURATION
export SCHEMA_REGISTRY_MODULE_SCHEMA_REGISTRY_PORT_EXPOSURE="8081:8081"
export SCHEMA_REGISTRY_MODULE_SCHEMA_REGISTRY_ENVIRONMENT_KAFKASTORE_BOOTSTRAP_SERVERS="kafka:9092"
export SCHEMA_REGISTRY_MODULE_SCHEMA_REGISTRY_MEMORY_LIMIT="512m"
export SCHEMA_REGISTRY_MODULE_SCHEMA_REGISTRY_MEMORY_RESERVED="256m"
export SCHEMA_REGISTRY_MODULE_SCHEMA_REGISTRY_ENVIRONMENT_EXTRA=""

#'SCHEMA_REGISTRY_KAFKASTORE_SSL_ENDPOINT_IDENTIFIED_ALGORITHM=https', \
#'SCHEMA_REGISTRY_KAFKASTORE_SECURITY_PROTOCOL=SASL_SSL', \
#'SCHEMA_REGISTRY_KAFKASTORE_SASL_JAAS_CONFIG=org.apache.kafka.common.security.plain.PlainLoginModule required username=\"${DOLLAR}{VCW_STACK_SCHEMA_REGISTRY_ENVIRONMENT_SASL_JAAS_CONFIG_CLUSTER_API_KEY}\" password=\"${DOLLAR}{VCW_STACK_SCHEMA_REGISTRY_ENVIRONMENT_SASL_JAAS_CONFIG_CLUSTER_API_SECRET}\";',\
#'SCHEMA_REGISTRY_KAFKASTORE_SASL_MECHANISM=PLAIN'"

# END CONFIGURATION
